# CheckBag 检查背包

- 作者: hufang360，羽学
- 出处: [github](https://github.com/hufang360/TShockCheckBag)
- 本插件可通过修改【检查背包。json】配置文件来控制：  
- 检测间隔、警告次数、封禁时间、更新频率
- 并加入了常见的进度项,默认生成的配置文件完善了大部分进度物品项. 
- 
## 更新日志

```
- 2.0.0
- 经玩家反馈，检测背包的速度太慢特此更新：在配置文件加入了个【每秒更新频率】，数字越少检测速度越快
- 
- 1.9.0
- 修复了日志会额外写一个.txt文件在服务器根目录的问题
- 【检查日志】记录换行间隔不再那么长

- 1.8.0
- 更新将违规信息写入【检查背包】文件夹里的【检查日志】
- 修改了默认生成的配置文件
- 【新一王后】→【肉后】：神灯烈焰
- 考虑tshock醉酒世界BUG骷髅王前掉骨头因素
- 【骷髅王后】→【世吞克脑后】：虚空保险库、虚空袋、闭合的虚空袋

- 1.7.0
- 全时期封禁加入：广播盒
- 优化了/cbag i的显示方式为：每行1个物品，每页15行，只显示当前进度会检测的物品
- 超进度物品警告方法从私聊玩家改为了发包给所有在线玩家

- 1.6.0
- 根据Dont dig up地图种子重调了默认配置文件以下物品进度项：
- 移除：魔法飞刀
- 骷髅王后进度：海蓝权杖、邪恶三叉戟、泡泡枪、金钥匙
- 世吞克脑后：陨石锭、星星炮、流星套、太空枪

- 1.5.0
- 加入了【免检背包】权限名，不再对【未登录】用户进行装备检查

- 1.4.0
- 将默认生成的配置里：抑郁球、血脉球从【世吞前】进度移除，
- 根据wiki把各种悠悠球产生时期明确排列了对应时期的进度锁。

- 1.3.0
- 去除所有重复的.json文件内的超进度物品ID。

- 1.2.0
- 修复服主超管免检权，将config配置文件补充完整的进度ID

- 1.1.0
- 完善了checkbag插件的配置文件，
- 将原有的/checkbag指令与权限重新缩短为：/cbag
- 将watcher插件的清理违禁物品方式加入到了【检查背包】插件中
- 配置加入了【哥布林前】、【克眼】、【猪鲨】等更多进度限制
```
## 指令

| 语法           |        权限         |   说明   |
| -------------- | :-----------------: | :------: |
| reload | 无  | 无|
| cbag b | cbag    | 列出封禁记录  |
| cbag i | cbag    | 列出违规物品  |
| 无 | 免检背包  | 不对其检查  |

## 配置

```json
  "配置说明": "重载配置请输入：/reload",
  "物品查询": "https://terraria.wiki.gg/zh/wiki/Item_IDs",
  "检测间隔（秒）": 5,
  "更新频率（越小越快）": 60,
  "封禁时长（分钟）": 10,
  "警告次数（封禁）": 15,
  "全时期": [
    {
      "id": 74,
      "数量": 500,
      "名称": "铂金币"
    },
    {
      "id": 75,
      "数量": 999,
      "名称": "坠落之星"
    },
    {
      "id": 3617,
      "数量": 1,
      "名称": "广播盒"
    }
  ]
  …
```
## 反馈
- 共同维护的插件库：https://github.com/THEXN/TShockPlugin/
- 国内社区trhub.cn 或 TShock官方群等
# AutoStoreItems 自动储存
- 作者: 羽学 cmgy雱  
- 出处: 无  
- 持有指定物品根据配置物品ID自动存入存储空间  
- （支持自动存钱,感谢cmgy雱的钱币叠堆算法） 
  
## 更新日志  
```
v1.2.6
移除了背包存钱速度配置项
修复了【手持存储模式】配置项以解决行走卡顿感

v1.2.5
添加英文翻译

v1.2.4
加入对装备饰品的检测
可以定义装备什么饰品触发自动储存
预设物品加入常见方块（非人工方块）

v1.2.3 
cmgy雱的钱币叠堆算法
修复自动存储超堆叠BUG
加入了对钱币计算的单独逻辑，储钱速度与物品分开
储物空间物品超过9999时默认会恢复9999（不再增加）
移除对给玩家免检堆叠权限的播报
加入大量内置物品，大概抄了wiki一半的物品ID进去：
除了方块/家具/武器/装备/饰品/服装/染料等非叠堆9999的材料

v1.2.2
优化代码，添加使用说明
移除了【控超堆叠】配置项
使用本插件会使堆叠超上限
需给玩家免检堆叠权限：tshock.ignore.itemstack

v1.2.1
将物品ID改为数组

v1.2.0
修复储存速度修改无效导致刷物品bug
补充使用说明：不建议放药水进虚空袋
加入手持“储存道具”才会触发自动存储的配置项
加入了“控超堆叠”避免物品超过9999

v1.1.0  
移除了`物品前缀`的配置项  
加入手持或所选物品不会被自动存储  
自存支持保险箱、护卫熔炉、虚空袋  
预设配置存储物品加入：  
“凝胶”、"坠落之星"、“礼物”、“礼袋”、“护卫奖章”  
加入存储回馈提示（避免玩家不知道东西去哪了）  
  
v1.0.0  
根据背包/存钱罐/配置表里存在的物品进行自动存储  
```
  
## 命令
```
暂无
```

---
配置注意事项
---
1.`手持存储模式`需要选中`触发存储的物品`其中1个才会启动存储功能`(2024年10月6日已修复)`，关闭则背包含有`存储道具`就会自存`储存物品表`的物品
    
2.`储物速度` 在 `手持存储模式`关闭的情况下: 低于`60帧`(推荐`120`)，`自动存钱` 与 `装备饰品` 不受 `储物速度` 影响
    
3.`物品名`会在使用`/reload`指令时根据`物品ID`自动写入, `物品数量` 为触发储存机制的`最低数量要求` 

4.`装备饰品存储模式`只会检测`装备3格+饰品7格`，装备指定`饰品(盔甲)`玩家只要`移动或攻击`就会触发存储机制，CPU主频没`3Ghz以上`的别开 "
    
5.`存在BUG`收藏的物品会被`取消收藏`(指`虚空袋`的药水有`堆叠进箱子`的风险),,物品如果没放到`存钱罐`等储存空间内是`不会触发`自动存储的
    
## 配置
> 配置文件位置：tshock/自动储存.json
```json
{
  "背包检测开关": true,
  "储物速度": 10.0,
  "自动存钱": false,
  "使用说明1": "[手持存储模式] 需要选中 [触发存储的物品] 其中1个才会启动存储功能(2024年10月6日已修复)，关闭则背包含有[存储道具]就会自存[储存物品表]的物品",
  "使用说明2": "[储物速度] 不要在 [手持存储模式] 关闭的情况下: 低于60帧(推荐120)，[自动存钱] 与 [装备饰品] 不受 [储物速度]影响",
  "使用说明3": "[物品名] 会在使用 /reload 指令时根据 物品ID 自动写入，[物品数量] 为触发储存机制的最低数量要求 ",
  "使用说明4": "[装备饰品存储模式] 只会检测装备3格+饰品7格，装备指定饰品(盔甲)玩家只要移动或攻击就会触发存储机制，CPU主频没3Ghz以上的别开 ",
  "使用说明5": "[存在BUG] 收藏的物品会被取消收藏(指虚空袋的药水堆叠进箱子的风险) ,物品如果没放到【存钱罐】等储存空间内是不会触发自动存储的",
  "存钱罐": true,
  "保险箱": true,
  "虚空袋": true,
  "护卫熔炉": true,
  "自动储物提示": true,
  "手持存储模式(↓)": true,
  "触发存储的物品ID": [
    87,
    346,
    3213,
    3813,
    4076,
    4131,
    5325
  ],
  "装备饰品存储模式": false,
  "装备饰品的物品ID": [
    88,
    410,
    411,
    489,
    490,
    491,
    855,
    935,
    1301,
    2220,
    2998,
    3034,
    3035,
    3061,
    3068,
    4008,
    4056,
    4989,
    5107,
    5126
  ],
  "储存物品表": [
    {
      "物品名(不用写)": "凝胶",
      "物品数量": 20,
      "物品ID": [
        23
      ]
    },
    {
      "物品名(不用写)": "护卫奖章, 坠落之星, 礼袋, 礼物",
      "物品数量": 1,
      "物品ID": [
        3817,
        75,
        1774,
        1869
      ]
    }
  ]
}
```
## 反馈
- 优先发issued -> 共同维护的插件库：https://github.com/UnrealMultiple/TShockPlugin
- 次优先：TShock官方群：816771079
- 大概率看不到但是也可以：国内社区trhub.cn ，bbstr.net , tr.monika.love
